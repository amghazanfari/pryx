
{{define "page"}}
<div class="app" role="application" aria-label="Proxy management dashboard">
  <!-- SIDEBAR -->
  <aside class="sidebar" aria-label="Sidebar navigation">
    <div>
      <div class="brand" aria-hidden="true">
        <div class="logo">P</div>
        <div>
          <div class="app-name">ProxyPanel</div>
          <div class="app-sub">Admin Dashboard</div>
        </div>
      </div>

      <nav class="menu" aria-label="Main">
        <a href="#" class="active" title="Dashboard">
          <div class="ic"><span>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_1_29579)">
          <path d="M19 10V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V10M21 12L12 3L3 12" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
          </g>
          <defs>
          <clipPath id="clip0_1_29579">
          <rect width="24" height="24" fill="white"/>
          </clipPath>
          </defs>
          </svg>

          </span></div> Dashboard
        </a>
        <a href="#" title="Proxies">
          <div class="ic">ðŸ”—</div> Proxies
        </a>
        <a href="#" title="Settings">
          <div class="ic"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1_29548)">
              <circle cx="12" cy="12" r="2" stroke="white"/>
              <path d="M5.39856 5.87922C4.46882 6.88131 3.79371 8.07052 3.40061 9.3446L4.99992 10.268C6.33325 11.0378 6.33325 12.9623 4.99992 13.7321L3.3989 14.6564C3.59411 15.2865 3.86207 15.9047 4.20577 16.5C4.54946 17.0953 4.95089 17.6365 5.39889 18.1205L6.99994 17.1962C8.33328 16.4264 9.99994 17.3886 9.99994 18.9282L9.99994 20.775C11.2999 21.0716 12.6673 21.0816 14 20.7774L14 18.9283C14 17.3887 15.6667 16.4264 17 17.1962L18.6014 18.1208C19.5312 17.1187 20.2063 15.9295 20.5994 14.6554L19 13.732C17.6667 12.9622 17.6667 11.0377 19 10.2679L20.6011 9.34354C20.4059 8.71353 20.1379 8.0953 19.7942 7.50001C19.4505 6.9047 19.0491 6.36352 18.6011 5.87944L17 6.8038C15.6667 7.5736 14 6.61135 14 5.07175L14 3.22501C12.7001 2.92841 11.3327 2.91847 9.99994 3.2226L9.99995 5.07172C9.99995 6.61132 8.33328 7.57357 6.99994 6.80377L5.39856 5.87922Z" stroke="white" stroke-linejoin="round"/>
              </g>
              <defs>
              <clipPath id="clip0_1_29548">
              <rect width="24" height="24" fill="white"/>
              </clipPath>
              </defs>
              </svg>
              </div> Settings
        </a>
        
        <a href="/Login.html" title="Logout">
          <div class="ic">
              <span>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_1_29238)">
                          <path d="M15 4.00098H5V18.001C5 19.1055 5.89543 20.001 7 20.001H15" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M16 15.001L19 12.001M19 12.001L16 9.00098M19 12.001H9" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          </g>
                          <defs>
                          <clipPath id="clip0_1_29238">
                          <rect width="24" height="24" fill="white" transform="translate(0 0.000976562)"/>
                          </clipPath>
                          </defs>
                          </svg>

              </span>
          </div> Logout
        </a>
      </nav>
    </div>

    <div class="spacer"></div>

    <div class="footer">Â© <span id="year"></span> ProxyPanel</div>
  </aside>

  <!-- MAIN -->
  <main class="main" aria-live="polite">
    <!-- TOPBAR -->
    <div class="topbar">
      <div style="display:flex;gap:16px;align-items:center;">
        <h1 style="margin:0;font-size:20px;font-weight:700">Proxy Management</h1>
        <div class="meta-grid" style="margin-left:10px">
          <div class="meta-item"><div class="num">12</div><small class="muted">Active</small></div>
          <div class="meta-item"><div class="num">3</div><small class="muted">Inactive</small></div>
        </div>
      </div>

      <div class="top-actions">
        <div class="search" role="search" aria-label="Search proxies">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input placeholder="Search proxies, provider, API base..." type="search" />
        </div>

        <button id="addBtn" class="btn" aria-haspopup="dialog" aria-controls="addModal">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Add Proxy
        </button>


        <button class="btn secondary" title="Notifications"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1_29541)">
              <path d="M6 19V10C6 6.68629 8.68629 4 12 4C15.3137 4 18 6.68629 18 10V19M6 19H18M6 19H4M18 19H20" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M11 22L13 22" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="3" r="1" stroke="white"/>
              </g>
              <defs>
              <clipPath id="clip0_1_29541">
              <rect width="24" height="24" fill="white"/>
              </clipPath>
              </defs>
              </svg>
              </button>
      </div>
    </div>

    <!-- TABLE CARD -->
    <section class="card" aria-label="Proxy list">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div style="font-weight:700">Proxies</div>
        <div style="color:var(--muted);font-size:13px">Showing 1â€“10 of 12</div>
      </div>

      <div style="overflow:auto">
        <table role="table" aria-label="Proxies table">
          <thead>
            <tr>
              <th>Model</th>
              <th>Provider</th>
              <th>LiteLM Model</th>
              <th>API Base</th>
              <th>Entry Price</th>
              <th>Output Price</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {{range .Endpoints}}
            <tr>
              <td>
                <div class="row-title">
                  <div class="avatar-sm">G4</div>
                  <div>
                    <div style="font-weight:700">{{.OwnedBy}}</div>
                    <div class="muted">Model ID</div>
                  </div>
                </div>
              </td>
              <td>OpenAI</td>
              <td class="muted">{{.Name}}</td>
              <td class="muted">{{.URLAdress}}</td>
              <td></td>
              <td></td>
              <td><span class="badge active">Active</span></td>
              <td>
                <div class="actions">
                  <button class="icon-btn" title="Edit"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_1_29576)">
                          <path d="M5 16L4 20L8 19L19.5858 7.41421C20.3668 6.63316 20.3668 5.36683 19.5858 4.58579L19.4142 4.41421C18.6332 3.63316 17.3668 3.63317 16.5858 4.41421L5 16Z" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M15 6L18 9" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M13 20H21" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          </g>
                          <defs>
                          <clipPath id="clip0_1_29576">
                          <rect width="24" height="24" fill="white"/>
                          </clipPath>
                          </defs>
                          </svg>
                          </button>
                  <button class="icon-btn" title="Delete">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_1_29544)">
                          <path d="M14 11V17" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M10 11V17" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M6 7V19C6 20.1046 6.89543 21 8 21H16C17.1046 21 18 20.1046 18 19V7" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M4 7H20" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M7 7L9 3H15L17 7" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                          </g>
                          <defs>
                          <clipPath id="clip0_1_29544">
                          <rect width="24" height="24" fill="white"/>
                          </clipPath>
                          </defs>
                          </svg>

                  </button>
                </div>
              </td>
            </tr>
            {{end}}

            

          </tbody>
        </table>
      </div>
    </section>

    
  </main>
</div>

<div class="modal" id="addModal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-card" role="document" aria-labelledby="addTitle">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <h3 id="addTitle" style="margin:0;font-size:18px">Add Proxy</h3>
      <button id="closeModal" class="btn secondary" aria-label="Close">âœ•</button>
    </div>

    <form class="modal-grid" onsubmit="event.preventDefault(); alert('Demo â€” form submitted');">
      <div class="field">
        <label for="modelName">Model name</label>
        <input id="modelName" placeholder="e.g. gpt-4" />
      </div>
      <div class="field">
        <label for="provider">Provider</label>
        <input id="provider" placeholder="e.g. OpenAI" />
      </div>

      <div class="field">
        <label for="liteModel">LiteLM model</label>
        <input id="liteModel" placeholder="hosted_vllm/gpt-4" />
      </div>
      <div class="field">
        <label for="status">Status</label>
        <select id="status"><option>active</option><option>inactive</option></select>
      </div>

      <div class="field" style="grid-column:1/-1">
        <label for="apiBase">API base</label>
        <input id="apiBase" placeholder="http://192.168.1.x" />
      </div>

      <div class="field">
        <label for="entryPrice">Entry price</label>
        <input id="entryPrice" placeholder="$0.03" />
      </div>
      <div class="field">
        <label for="outputPrice">Output price</label>
        <input id="outputPrice" placeholder="$0.06" />
      </div>

      <div class="modal-footer" style="grid-column:1/-1">
        <button type="button" id="cancelModal" class="btn secondary">Cancel</button>
        <button type="submit" class="btn">Add model</button>
      </div>
    </form>
  </div>
</div>

<script>
  // minimal JS: theme toggle + modal open/close + small niceties
  const body = document.body;
 

  const addBtn = document.getElementById('addBtn');
  const modal = document.getElementById('addModal');
  const closeModal = document.getElementById('closeModal');
  const cancelModal = document.getElementById('cancelModal');

  addBtn.addEventListener('click', () => {
    modal.classList.add('show');
    modal.setAttribute('aria-hidden','false');
    document.getElementById('modelName').focus();
  });
  function hideModal(){
    modal.classList.remove('show');
    modal.setAttribute('aria-hidden','true');
    addBtn.focus();
  }
  closeModal.addEventListener('click', hideModal);
  cancelModal.addEventListener('click', hideModal);
  window.addEventListener('keydown', (e) => { if(e.key === 'Escape') hideModal(); });
  window.addEventListener('click', (e) => { if(e.target === modal) hideModal(); });

  document.getElementById('year').textContent = new Date().getFullYear();
</script>

{{end}}